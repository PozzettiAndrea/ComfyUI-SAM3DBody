{"id":"0ee524cd-7bc8-46f2-8751-32399825f67b","revision":0,"last_node_id":60,"last_link_id":66,"nodes":[{"id":24,"type":"LoadSAM3DBodyModel","pos":[-181.73971384816508,-313.53856242252346],"size":[273.7994140625,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_path","name":"model_path","type":"STRING","widget":{"name":"model_path"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"SAM3D_MODEL","links":[32]}],"properties":{"cnr_id":"ComfyUI-SAM3DBody","ver":"5fef822c291d4a440e8392acdc40fa3d93a0820d","Node name for S&R":"LoadSAM3DBodyModel","aux_id":"PozzettiAndrea/ComfyUI-SAM3DBody"},"widgets_values":["/home/shadeform/sam3dbody/ComfyUI/models/sam3dbody"]},{"id":35,"type":"MultibandLoad","pos":[-504.6900417936712,25.823169588315913],"size":[270,122],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"normalize","name":"normalize","shape":7,"type":"BOOLEAN","widget":{"name":"normalize"},"link":null}],"outputs":[{"localized_name":"multiband","name":"multiband","type":"MULTIBAND_IMAGE","links":[42,44]},{"localized_name":"num_channels","name":"num_channels","type":"INT","links":null},{"localized_name":"channel_names","name":"channel_names","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-multiband","ver":"9b51a21173c154aa9adae9e8b76db5e82f87f657","Node name for S&R":"MultibandLoad","aux_id":"PozzettiAndrea/ComfyUI-Multiband"},"widgets_values":["fellowship.npz",true]},{"id":18,"type":"SAM3DBodyExportMultipleFBX","pos":[222.38422292904016,-227.90952348436795],"size":[472.8209914560281,82],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"multi_mesh_data","name":"multi_mesh_data","type":"SAM3D_MULTI_OUTPUT","link":23},{"localized_name":"output_filename","name":"output_filename","type":"STRING","widget":{"name":"output_filename"},"link":null},{"localized_name":"combine","name":"combine","type":"BOOLEAN","widget":{"name":"combine"},"link":null}],"outputs":[{"localized_name":"fbx_path","name":"fbx_path","type":"STRING","links":[37]}],"properties":{"cnr_id":"ComfyUI-SAM3DBody","ver":"0cb5527a152b90d4cfa1d2389f47997ca701d141","Node name for S&R":"SAM3DBodyExportMultipleFBX","aux_id":"PozzettiAndrea/ComfyUI-SAM3DBody"},"widgets_values":["sam3d_multi_rigged.fbx",true]},{"id":39,"type":"MultibandToMasks","pos":[-171.71536834138104,57.60299660377296],"size":[272.62109375,82],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"multiband","name":"multiband","type":"MULTIBAND_IMAGE","link":44},{"localized_name":"channels","name":"channels","shape":7,"type":"STRING","widget":{"name":"channels"},"link":null},{"localized_name":"auto_detect_masks","name":"auto_detect_masks","shape":7,"type":"BOOLEAN","widget":{"name":"auto_detect_masks"},"link":null}],"outputs":[{"localized_name":"masks","name":"masks","type":"MASK","links":[45,52]}],"properties":{"cnr_id":"comfyui-multiband","ver":"fc620d0d8eee86ab8dc75990df5f0a24e35dbdb3","Node name for S&R":"MultibandToMasks","aux_id":"PozzettiAndrea/ComfyUI-Multiband"},"widgets_values":["0",true]},{"id":36,"type":"MultibandToImage","pos":[-175.9559301211466,-114.33880857459438],"size":[270,58],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"multiband","name":"multiband","type":"MULTIBAND_IMAGE","link":42},{"localized_name":"channels","name":"channels","shape":7,"type":"STRING","widget":{"name":"channels"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[43,46,53]}],"properties":{"cnr_id":"comfyui-multiband","ver":"9b51a21173c154aa9adae9e8b76db5e82f87f657","Node name for S&R":"MultibandToImage","aux_id":"PozzettiAndrea/ComfyUI-Multiband"},"widgets_values":["0,1,2"]},{"id":44,"type":"PreviewImage","pos":[174.37508842241317,-544.3421567130846],"size":[521.2849601956311,258],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":53}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.10.0","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":41,"type":"DownloadAndLoadDepthAnythingV3Model","pos":[-635.6202459821125,266.5827061019216],"size":[353.103125,82],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","shape":7,"type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"da3_model","name":"da3_model","type":"DA3MODEL","links":[47]}],"properties":{"cnr_id":"comfyui-depthanythingv3","ver":"0.1.0","Node name for S&R":"DownloadAndLoadDepthAnythingV3Model","aux_id":"PozzettiAndrea/ComfyUI-DepthAnythingV3"},"widgets_values":["da3_giant.safetensors","auto"]},{"id":16,"type":"SAM3DBodyProcessMultiple","pos":[310.13806988037925,-51.40382894461709],"size":[294.4166015625,182],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"SAM3D_MODEL","link":32},{"localized_name":"image","name":"image","type":"IMAGE","link":43},{"localized_name":"masks","name":"masks","type":"MASK","link":45},{"localized_name":"depth_map","name":"depth_map","shape":7,"type":"IMAGE","link":48},{"localized_name":"intrinsics","name":"intrinsics","shape":7,"type":"INTRINSICS","link":50},{"localized_name":"depth_confidence","name":"depth_confidence","shape":7,"type":"IMAGE","link":49},{"localized_name":"inference_type","name":"inference_type","shape":7,"type":"COMBO","widget":{"name":"inference_type"},"link":null},{"localized_name":"adjust_position_from_depth","name":"adjust_position_from_depth","shape":7,"type":"BOOLEAN","widget":{"name":"adjust_position_from_depth"},"link":null}],"outputs":[{"localized_name":"multi_mesh_data","name":"multi_mesh_data","type":"SAM3D_MULTI_OUTPUT","links":[23]},{"localized_name":"preview","name":"preview","type":"IMAGE","links":[21]}],"properties":{"cnr_id":"ComfyUI-SAM3DBody","ver":"0cb5527a152b90d4cfa1d2389f47997ca701d141","Node name for S&R":"SAM3DBodyProcessMultiple","aux_id":"PozzettiAndrea/ComfyUI-SAM3DBody"},"widgets_values":["full",true]},{"id":43,"type":"MaskPreview","pos":[117.97631015629814,241.15343269485032],"size":[281.5215170556271,258],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":52}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.10.0","Node name for S&R":"MaskPreview"},"widgets_values":[]},{"id":58,"type":"LoadImageDataSetFromFolder","pos":[558.8072020347307,177.2890386938821],"size":[312.1490234375,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"folder","name":"folder","type":"COMBO","widget":{"name":"folder"},"link":null}],"outputs":[{"localized_name":"images","name":"images","shape":6,"type":"IMAGE","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.10.0","Node name for S&R":"LoadImageDataSetFromFolder"},"widgets_values":["3d"]},{"id":40,"type":"DepthAnything_V3","pos":[-239.70519251553551,249.89808418797932],"size":[302.296875,330],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"da3_model","name":"da3_model","type":"DA3MODEL","link":47},{"localized_name":"images","name":"images","type":"IMAGE","link":46},{"localized_name":"camera_params","name":"camera_params","shape":7,"type":"CAMERA_PARAMS","link":null},{"localized_name":"normalization_mode","name":"normalization_mode","type":"COMBO","widget":{"name":"normalization_mode"},"link":null},{"localized_name":"resize_method","name":"resize_method","shape":7,"type":"COMBO","widget":{"name":"resize_method"},"link":null},{"localized_name":"invert_depth","name":"invert_depth","shape":7,"type":"BOOLEAN","widget":{"name":"invert_depth"},"link":null},{"localized_name":"keep_model_size","name":"keep_model_size","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_size"},"link":null}],"outputs":[{"localized_name":"depth","name":"depth","type":"IMAGE","links":[48]},{"localized_name":"confidence","name":"confidence","type":"IMAGE","links":[49]},{"localized_name":"resized_rgb_image","name":"resized_rgb_image","type":"IMAGE","links":null},{"localized_name":"ray_origin","name":"ray_origin","type":"IMAGE","links":null},{"localized_name":"ray_direction","name":"ray_direction","type":"IMAGE","links":null},{"localized_name":"extrinsics_json","name":"extrinsics_json","type":"STRING","links":null},{"localized_name":"intrinsics_json","name":"intrinsics_json","type":"STRING","links":null},{"localized_name":"sky_mask","name":"sky_mask","type":"MASK","links":null},{"localized_name":"extrinsics","name":"extrinsics","type":"EXTRINSICS","links":[65]},{"localized_name":"intrinsics","name":"intrinsics","type":"INTRINSICS","links":[50,54]},{"localized_name":"gaussian_ply_path","name":"gaussian_ply_path","type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-depthanythingv3","ver":"0.1.0","Node name for S&R":"DepthAnything_V3","aux_id":"PozzettiAndrea/ComfyUI-DepthAnythingV3"},"widgets_values":["Raw","resize",false,false]},{"id":59,"type":"PreviewAny","pos":[-177.21437602186086,698.0069656707296],"size":[210,166],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":65}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.10.0","Node name for S&R":"PreviewAny"},"widgets_values":[null,null,null]},{"id":46,"type":"PreviewAny","pos":[165.71577003435993,579.4866249672091],"size":[210,166],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":54}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.10.0","Node name for S&R":"PreviewAny"},"widgets_values":[null,null,null]},{"id":60,"type":"CreateLoad3DCamera","pos":[612.3345865759417,-151.8541041840194],"size":[270,226],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"pos_x","name":"pos_x","type":"FLOAT","widget":{"name":"pos_x"},"link":null},{"localized_name":"pos_y","name":"pos_y","type":"FLOAT","widget":{"name":"pos_y"},"link":null},{"localized_name":"pos_z","name":"pos_z","type":"FLOAT","widget":{"name":"pos_z"},"link":null},{"localized_name":"target_x","name":"target_x","type":"FLOAT","widget":{"name":"target_x"},"link":null},{"localized_name":"target_y","name":"target_y","type":"FLOAT","widget":{"name":"target_y"},"link":null},{"localized_name":"target_z","name":"target_z","type":"FLOAT","widget":{"name":"target_z"},"link":null},{"localized_name":"zoom","name":"zoom","type":"INT","widget":{"name":"zoom"},"link":null},{"localized_name":"camera_type","name":"camera_type","type":"COMBO","widget":{"name":"camera_type"},"link":null}],"outputs":[{"localized_name":"camera_info","name":"camera_info","type":"LOAD3D_CAMERA","links":[66]}],"properties":{"cnr_id":"comfyui-camerapack","ver":"5dceede2dff0d3415ee5531f5f038bbe2f9854fa","Node name for S&R":"CreateLoad3DCamera"},"widgets_values":[3,5.1,8,-0.5,2.1,0.4,3,"perspective"]},{"id":29,"type":"Preview3D","pos":[913.3440846489831,-281.64493985574006],"size":[724.8980177011981,433.9362874144434],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"camera_info","name":"camera_info","shape":7,"type":"LOAD3D_CAMERA","link":66},{"localized_name":"bg_image","name":"bg_image","shape":7,"type":"IMAGE","link":null},{"localized_name":"model_file","name":"model_file","type":"STRING","widget":{"name":"model_file"},"link":37},{"localized_name":"image","name":"image","type":"PREVIEW_3D","widget":{"name":"image"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.6.0","Node name for S&R":"Preview3D","Camera Config":{"cameraType":"perspective","fov":73,"state":{"position":{"x":0,"y":0,"z":0},"target":{"x":0,"y":0,"z":0},"zoom":50,"cameraType":"perspective"}},"Last Time Model File":"sam3d_multi_rigged.fbx","Scene Config":{"showGrid":true,"backgroundColor":"#282828","backgroundImage":"","backgroundRenderMode":"tiled"},"Light Config":{"intensity":2}},"widgets_values":["sam3d_multi_rigged.fbx",""]},{"id":4,"type":"PreviewImage","pos":[464.1940613863452,305.263977592208],"size":[475.647173301051,258],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":21}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.70","Node name for S&R":"PreviewImage"},"widgets_values":[]}],"links":[[21,16,1,4,0,"IMAGE"],[23,16,0,18,0,"SAM3D_MULTI_OUTPUT"],[32,24,0,16,0,"SAM3D_MODEL"],[37,18,0,29,2,"STRING"],[42,35,0,36,0,"MULTIBAND_IMAGE"],[43,36,0,16,1,"IMAGE"],[44,35,0,39,0,"MULTIBAND_IMAGE"],[45,39,0,16,2,"MASK"],[46,36,0,40,1,"IMAGE"],[47,41,0,40,0,"DA3MODEL"],[48,40,0,16,3,"IMAGE"],[49,40,1,16,5,"IMAGE"],[50,40,9,16,4,"INTRINSICS"],[52,39,0,43,0,"MASK"],[53,36,0,44,0,"IMAGE"],[54,40,9,46,0,"INTRINSICS"],[65,40,8,59,0,"EXTRINSICS"],[66,60,0,29,0,"LOAD3D_CAMERA"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.6323843630627971,"offset":[646.8775660882231,647.470418399589]},"frontendVersion":"1.35.9","workflowRendererVersion":"LG"},"version":0.4}